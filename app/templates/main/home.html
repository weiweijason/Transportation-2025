{% extends "base.html" %}

{% block title %}主頁 - 精靈公車{% endblock %}

{% block content %}
<div class="row">
    <!-- 遊戲主視覺 -->
    <div class="col-lg-8 mb-4">
        <div class="card game-hero">
            <div class="card-body p-0 position-relative">
                <img src="https://fra.cloud.appwrite.io/v1/storage/buckets/681c5c8d00308c6d7719/files/683fc1240003d7532939/view?project=681c5c6b002355634f3c&mode=admin" class="img-fluid w-100 rounded-3" alt="精靈公車世界">
                <div class="game-hero-overlay p-4 text-white">
                    <h1 class="display-4 game-title float-animation">歡迎來到精靈公車世界！</h1>
                    <p class="lead">在大眾運輸的旅程中，發現並收集各種奇妙的精靈，成為最強大的訓練師！</p>
                    <div class="mt-4">
                        <a class="btn btn-lg btn-primary me-2 pulse-animation" href="{{ url_for('game.catch') }}">
                            <i class="fas fa-search me-2"></i>開始探索
                        </a>
                        {% if 'user' not in session %}
                        <a class="btn btn-lg btn-outline-light" href="{{ url_for('auth.register') }}">
                            <i class="fas fa-user-plus me-2"></i>立即註冊
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 遊戲新聞/提示 -->
    <div class="col-lg-4 mb-4">
        <div class="card h-100">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0"><i class="fas fa-bullhorn me-2"></i>最新消息</h5>
            </div>
            <div class="card-body">
                <div class="news-item mb-3 pb-3 border-bottom">
                    <h6><i class="fas fa-star text-warning me-2"></i>新精靈登場！</h6>
                    <p class="small">貓空纜車左線現在出現了全新的水系精靈，快去捕捉吧！</p>
                    <small class="text-muted news-date">2025/4/15</small>
                </div>
                <div class="news-item mb-3 pb-3 border-bottom">
                    <h6><i class="fas fa-trophy text-danger me-2"></i>週末活動</h6>
                    <p class="small">本週末所有站點擂台的精靈都將獲得雙倍力量加成！</p>
                    <small class="text-muted news-date">2025/4/17</small>
                </div>
                <div class="news-item">
                    <h6><i class="fas fa-gift text-success me-2"></i>新手提示</h6>
                    <p class="small">記得每天登入遊戲可以獲得額外的捕捉機會哦！</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 遊戲特色 -->
<div class="row mb-4">
    <div class="col-12">
        <h2 class="section-title text-center mb-4"><i class="fas fa-gamepad me-2"></i>遊戲特色</h2>
    </div>
    <div class="col-md-4 mb-4">
        <div class="card game-feature-card h-100">
            <div class="card-body text-center">
                <div class="feature-icon mb-3 float-animation">
                    <i class="fas fa-map-marked-alt fa-3x text-primary"></i>
                </div>
                <h5 class="card-title">探索捕捉</h5>
                <p class="card-text">當你搭乘貓空纜車時，系統會在附近生成各種精靈，趕快抓住它們！</p>
                <a href="{{ url_for('game.catch') }}" class="btn btn-sm btn-outline-primary mt-3">開始捕捉</a>
            </div>
        </div>
    </div>    <div class="col-md-4 mb-4">
        <div class="card game-feature-card h-100">
            <div class="card-body text-center">
                <div class="feature-icon mb-3 float-animation">
                    <i class="fas fa-fist-raised fa-3x text-warning"></i>
                </div>
                <h5 class="card-title">玩家對戰</h5>
                <p class="card-text">與好友進行私人對戰！創建房間或加入好友的戰鬥房間，展開精彩的精靈對決！</p>
                <a href="{{ url_for('friend_fight.choose_fight') }}" class="btn btn-sm btn-outline-warning mt-3">開始對戰</a>
            </div>
        </div>
    </div>    <div class="col-md-4 mb-4">
        <div class="card game-feature-card h-100">
            <div class="card-body text-center">
                <div class="feature-icon mb-3 float-animation">
                    <i class="fas fa-users fa-3x text-success"></i>
                </div>
                <h5 class="card-title">好友列表</h5>
                <p class="card-text">你的好友都在這邊，快來看看他又完成了甚麼目標吧！</p>
                <a href="{{ url_for('community.friends') }}" class="btn btn-sm btn-outline-success mt-3">查看好友</a>
            </div>
        </div>
    </div>
</div>

<!-- 精靈圖鑑 -->
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0"><i class="fas fa-dragon me-2"></i>精靈圖鑑</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-6 col-md-3 mb-3">
                        <div class="creature-showcase text-center">
                            <div class="creature-image-container mb-2 float-animation">
                                <img src="https://fra.cloud.appwrite.io/v1/storage/buckets/681c5c8d00308c6d7719/files/681c63780029634ce388/view?project=681c5c6b002355634f3c&mode=admin" class="img-fluid" alt="水系精靈" style="max-height: 100px;">
                            </div>
                            <h6>鯊奇馬</h6>
                            <span class="badge bg-primary">水系</span>
                            <span class="badge bg-info">SSR</span>
                        </div>
                    </div>
                    <div class="col-6 col-md-3 mb-3">
                        <div class="creature-showcase text-center">
                            <div class="creature-image-container mb-2 float-animation">
                                <img src="https://fra.cloud.appwrite.io/v1/storage/buckets/681c5c8d00308c6d7719/files/681c632000345e069128/view?project=681c5c6b002355634f3c&mode=admin" class="img-fluid" alt="火系精靈" style="max-height: 100px;">
                            </div>
                            <h6>狐焦炎</h6>
                            <span class="badge bg-danger">火系</span>
                            <span class="badge bg-warning">SSR</span>
                        </div>
                    </div>
                    <div class="col-6 col-md-3 mb-3">
                        <div class="creature-showcase text-center">
                            <div class="creature-image-container mb-2 float-animation">
                                <img src="https://fra.cloud.appwrite.io/v1/storage/buckets/681c5c8d00308c6d7719/files/681c636f00198e9782d2/view?project=681c5c6b002355634f3c&mode=admin" class="img-fluid" alt="木系精靈" style="max-height: 100px;">
                            </div>
                            <h6>精靈鐘</h6>
                            <span class="badge bg-success">木系</span>
                            <span class="badge bg-secondary">SSR</span>
                        </div>
                    </div>
                    <div class="col-6 col-md-3 mb-3">
                        <div class="creature-showcase text-center">
                            <div class="creature-image-container mb-2 float-animation">
                                <img src="https://fra.cloud.appwrite.io/v1/storage/buckets/681c5c8d00308c6d7719/files/68390f030031f1f20a85/view?project=681c5c6b002355634f3c&mode=admin" class="img-fluid" alt="光系精靈" style="max-height: 100px;">
                            </div>
                            <h6>八星之主</h6>
                            <span class="badge bg-warning">光系</span>
                            <span class="badge bg-danger">SSR</span>
                        </div>
                    </div>
                    <div class="col-6 col-md-3 mb-3">
                        <div class="creature-showcase text-center">
                            <div class="creature-image-container mb-2 float-animation">
                                <img src="https://fra.cloud.appwrite.io/v1/storage/buckets/681c5c8d00308c6d7719/files/68390f3c001270e4def2/view?project=681c5c6b002355634f3c&mode=admin" class="img-fluid" alt="暗系精靈" style="max-height: 100px;">
                            </div>
                            <h6>蒙昧</h6>
                            <span class="badge bg-warning">暗系</span>
                            <span class="badge bg-danger">SSR</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .game-hero {
        overflow: hidden;
        border-radius: 15px;
        position: relative;
    }
    
    .game-hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    
    .game-title {
        font-family: 'Baloo 2', cursive;
        font-weight: 800;
        text-shadow: 3px 3px 5px rgba(0,0,0,0.5);
    }
    
    .section-title {
        font-family: 'Baloo 2', cursive;
        font-weight: 600;
        color: var(--text-color);
        position: relative;
        display: inline-block;
    }
    
    .section-title:after {
        content: '';
        position: absolute;
        width: 50%;
        height: 4px;
        background: linear-gradient(90deg, var(--primary-color), transparent);
        bottom: -10px;
        left: 25%;
    }
    
    .game-feature-card {
        transition: all 0.3s;
        border-radius: 15px;
    }
    
    .game-feature-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    
    .feature-icon {
        height: 80px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .creature-showcase {
        transition: all 0.3s;
    }
    
    .creature-showcase:hover {
        transform: scale(1.05);
    }
    
    .creature-image-container {
        height: 100px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    /* 深色模式適配 */
    [data-theme="dark"] .news-date,
    [data-theme="dark"] .text-muted {
        color: #adb5bd !important;
    }
    
    [data-theme="dark"] .border-bottom {
        border-color: var(--border-color) !important;
    }
    
    [data-theme="dark"] .btn-outline-primary {
        color: var(--link-color);
        border-color: var(--link-color);
    }
    
    [data-theme="dark"] .btn-outline-primary:hover {
        background-color: var(--link-color);
        color: #fff;
    }
    
    [data-theme="dark"] .btn-outline-danger {
        color: #e74c3c;
        border-color: #e74c3c;
    }
    
    [data-theme="dark"] .btn-outline-danger:hover {
        background-color: #e74c3c;
        color: #fff;
    }
    
    [data-theme="dark"] .btn-outline-success {
        color: #2ecc71;
        border-color: #2ecc71;
    }
    
    [data-theme="dark"] .btn-outline-success:hover {
        background-color: #2ecc71;
        color: #fff;
    }
    
    /* 修正深色模式下的文字顯示問題 */
    [data-theme="dark"] .card-body p,
    [data-theme="dark"] .card-body .small,
    [data-theme="dark"] .card-body h6,
    [data-theme="dark"] .card-text,
    [data-theme="dark"] .news-item p,
    [data-theme="dark"] .news-item h6 {
        color: var(--text-color);
    }
    
    [data-theme="dark"] .creature-showcase h6 {
        color: var(--text-color);
    }
    
    [data-theme="dark"] .card-header h5 {
        color: white;
    }
    
    @media (max-width: 767.98px) {
        .game-hero-overlay {
            padding: 15px !important;
        }
        
        .game-title {
            font-size: 1.8rem;
        }
        
        .lead {
            font-size: 1rem;
        }
        
        .btn-lg {
            padding: 0.5rem 1rem;
            font-size: 1rem;
        }
    }
</style>
{% endblock %}
